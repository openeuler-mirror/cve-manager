## issue分析说明

### issue分析触发流程图
<img src="../image/触发issue流程图.png" />

#### issue 分析评论流程
 
issue分析注意事项
- 所有人都可以在评论区对issue进行分析
- 分析issue模板并拷贝以下内容在**评论区回复**： 
  ```batch
    影响性分析说明：

    openEuler评分：

    受影响版本排查(受影响/不受影响)：
    1.master(6.1.0):
    2.openEuler-20.03-LTS-SP1(4.19.90):
    3.openEuler-20.03-LTS-SP4(4.19.90):
    4.openEuler-22.03-LTS(5.10.0):
    5.openEuler-22.03-LTS-Next(5.10.0):
    6.openEuler-22.03-LTS-SP1(5.10.0):
    7.openEuler-22.03-LTS-SP2(5.10.0):
    8.openEuler-22.03-LTS-SP3(5.10.0):
    9.openEuler-24.03-LTS:
    10.openEuler-24.03-LTS-Next:

    修复是否涉及abi变化(是/否)：
    1.master(6.1.0):
    2.openEuler-20.03-LTS-SP1(4.19.90):
    3.openEuler-20.03-LTS-SP4(4.19.90):
    4.openEuler-22.03-LTS(5.10.0):
    5.openEuler-22.03-LTS-Next(5.10.0):
    6.openEuler-22.03-LTS-SP1(5.10.0):
    7.openEuler-22.03-LTS-SP2(5.10.0):
    8.openEuler-22.03-LTS-SP3(5.10.0):
    9.openEuler-24.03-LTS:
    10.openEuler-24.03-LTS-Next:
  ```
- 影响性分析填写：
   ```batch
    1>填写漏洞影响性分析的英文描述
    2>填写方式： 
       影响性分析说明:
       漏洞描述...
   ```
- openEuler评分: (评分和向量)填写：
   ```batch
    1>填写漏洞打分和CVSS评分向量(评分和向量同步填写，少填漏填会出现错误提示)
    2>填写方式： 
       openEuler评分: (评分和向量):
       6.5
       Vector：CVSS：3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:N/A:H
   ```
- 受影响版本排查(受影响/不受影响)填写说明(未引入分支不需要填写)：
   ```batch
    1>issue模板或第一条评论中不包含 如：1.openEuler-20.03-LTS:之类的填写项则不需要填写，
      如Maintainer发现有对应的版本需要填写则参考下方说明格式填写
    2>填写方式： 
       1.openEuler-20.03-LTS(1.16.1):受影响
       2.openEuler-20.03-LTS-SP1(1.16.1):不受影响
    ```
- 修复是否涉及abi变化（是/否）填写说明(未引入分支不需要填写)：
   ```batch
    1>issue模板或第一条评论中不包含 如：1.openEuler-20.03-LTS:之类的填写项则不需要填写，
      如Maintainer发现有对应的版本需要填写则参考下方说明格式填写
    2>填写方式： 
       1.openEuler-20.03-LTS(1.16.1):是
       2.openEuler-20.03-LTS-SP1(1.16.1):否
   ```
- 分析内容可一次性填写完整也可分条填写
- 重复分析内容可覆盖上一次分析的内容（只要包含键值的评论不管内容是否为空都会覆盖）
- cve-manage 在每次分析评论提交后根据内容进行解析并根据解析后的内容进行回复，Maintainer在评论后没得到回复可主动刷新页面或有延迟
- 当内容填写完整会触发两种回复中的一种：
 
   1.评分不一致需要审核
    
   | 状态  | 需分析            | 内容                     |
   |-----|----------------|------------------------|
   | 已分析 | openEulerScore | 6.0                    |
   | 已分析 | 影响性分析说明        | 您分析的内容                 |
   | 已分析 | openEulerVector | AV:A/AC:C...           |
   | 已分析 | 受影响的版本         | openEuler-20.03-LTS:受影响 |
   | 已分析 | 修复是否涉及abi变化      | openEuler-20.03-LTS:是 |
    **因openEulerScore与NvdScore不一致，分析内容需审核，请等待审核** 
     
    2.评分一致
     
    | 状态  | 需分析            | 内容                     |
    |-----|----------------|------------------------|
    | 已分析 | openEulerScore | 6.0                    |
    | 已分析 | 影响性分析说明        | 您分析的内容                 |
    | 已分析 | openEulerVector | AV:A/AC:C...           |
    | 已分析 | 受影响的版本         | openEuler-20.03-LTS:受影响 |
    | 已分析 | 修复是否涉及abi变化      | openEuler-20.03-LTS:是 |
    **请确认分析内容的准确性，确认无误后，您可以进行后续步骤或您可以继续分析。** 
- 评分不一致则需等待审核员审核后进行下一步 **否则将视为无效分析将不可导出**
- issue 已完成（关闭）且已分析完结、评分不一致需审核通过后的issue才具备发布安全公告到官网
  
 ### 审核员操作说明
   - 安全委员会成员对填写的评分在当前issue的评论区回复如下指令
   - 使用指令说明
   
        | 指令 | 指令说明 | 使用权限 |
        | ------ | ------- | ------- |
        | /approve | 审核通过 | security-committee-sig组成员 |
        | /reject | 审核拒绝 | security-committee-sig组成员 |
   
   - 注意事项
   ```batch
    1.指令独占一行
    2.以最后一位审核员评论审核的指令为最终指令
    3.审核评论成功 cve-manager 会新增一条@责任人的评论
      （若没有新增评论，可主动刷新页面，多次刷新后没有回复则没有审核评论成功）
```
 ### issue评论区使用/reason 指令说明
   - 当提交issue的cve漏洞信息出现错误需要拒绝该issue时，可填写相关原因，之后联系有操作issue权限的管理人员修改issue状态为已拒绝。
   - 操作步骤如下：
   
     1.在issue评论区填写cve误报或者拒绝原因，格式如下：
        
       | 指令 | 指令说明 | 使用权限 |
       | ------ | ------- | ------- |
       | /reason | /reason +错误原因说明 | 不限 |
       
        例如：/reason cve误报
     
     2.管理人员将issue状态改为已拒绝   
     
     
 ### 模板内容审核并关闭issue
   - issue处理人需要审核模板内容是否填写正确，在当前issue的评论区回复如下指令
   - 使用指令说明

       | 指令 | 指令说明 | 使用权限 |
       | ------ | ------- | ------- |
       | /approve | 模板内容审核并关闭issue | 具有处理issue权限的人 |
    
 ### 关闭issue
   - 具有当前issue处理权限的人，可以通过如下指令关闭issue
   - 使用指令说明
 
       | 指令 | 指令说明 | 使用权限 |
       | ------ | ------- | ------- |
       | /close | 关闭issue(功能等同/approve) | 具有处理issue权限的人 |      
      
### 数据导出
#### 1.调用数据导出接口，触发生成cvrf格式xml文档的任务
 - 接口说明：
   内部公开

    
